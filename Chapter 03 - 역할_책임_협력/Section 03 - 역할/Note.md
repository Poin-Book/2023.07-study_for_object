# 역할
> 작성자:심세원

## 목차
- [역할](#역할)
- [객체 대 역할](#객체-대-역할)
- [역할과 추상화](#역할과-추상화)
- [배우, 배역](#배우,-배역)


객체→ 협력 안에서 특정한 목적을 가짐

객체의 목적→ 객체가 맡게 되는 책임의 집합으로 표시됨

## 역할

> 객체가 특정한 협력 안에서 수행하는 책임의 집합
> 

<br>

*ex) 영화 예매 시스템 만들기*

영화 예매 협력에서 “예매하라”라는 메시지 처리에 적합한 객체로 `Screening` 선택

→ 이 과정은 독립적인 두 개의 단계가 합쳐진 것

1. 영화를 예매할 수 있는 적절한 역할이 무엇인가
2. 역할을 수행할 객체를 선택

즉, **역할을 찾고, 역할을 수행할 수 있는 객체를 선택하는 방식으로 설계가 진행됨**

<br><br>

*ex) 역할을 고려하지 않은 경우, 영화 예매 시스템*

1. “할인 요금을 계산하라”라는 메시지를 전송해서 외부 객체에게 도움을 요청
2. “금액 할인 정책”, “”비율 할인 정책” 두 가지 종류의 할인 정책이 있음
3. `AmountDiscountPolicy,` `PercentDiscountPolicy` 두 가지 객체가 위 메시지에 응답할 수 있어야함
4. 두 객체가 참여하는 협력을 개별적으로 만듬?

→ 이런 식으로 구현하면 코드가 중복됨

<br>

따라서, **객체가 아닌 책임에 초점을 맞춰야 한다** 

두 객체 모두 “할인 요금 계산”이라는 동일한 책임을 맡음

객체라는 존재를 지우고 “할인 요금을 계산하라”라는 메시지에 응답할 수 있는 **대표자를 통해 두 협력을 하나로 통합 가능**

대표자를 **일종의 슬롯**으로 생각

### 이 슬롯이 바로 역할!

<br>

1. `**DiscountPolicy` 이름을 붙여 두 종류의 구체적인 객체를 포괄하는 추상화 하기**

<br>

- 동일한 책임을 수행하는 역할을 기반으로 두 개의 협력을 하나로 통합할 수 있음
    - 불필요한 중복 코드 제거 가능
- 협력이 더 유연해짐
    - `DiscountPolicy` 의 역할을 수행할 수 있는 어떤 객체라도 이 협력에 참여가 가능해짐

따라서, 역할이 중요한 이유?

### 유연하고 재사용 가능한 협력을 얻을 수 있기 때문

<br>

역할을 구현하는 가장 일반적인 방법은 

**추상 클래스, 인터페이스 사용하기**

## 객체 대 역할

역할: 객체가 참여할 수 있는 일종의 슬롯

한 종류의 객체만 협력에 참여하는 상황에서도 역할을 고려하는 것이 적절한가?

**협력에 적합한 책임을 수행하는 대상이 한 종류라는 간단하게 객체로 간주**

**여러 종류의 객체들이 참여할 수 있다면 역할로 부르면 됨**

1. 협력은 역할의 상호작용으로 구성
2. 협력을 구성하기 위해 역할에 적합한 객체가 선택
3. 객체는 클래스를 이용해 구현되고 생성

→ 대부분의 경우 **어느 것이 역할, 객체인데 또렷하게 드러나지 않음**

### 단순하게 객체로 시작하고 반복적으로 책임, 협력을 정체하며 필요한 순간에 객체로부터 역할을 분리해내기

- 다양한 객체들이 협력에 참여한다는 것이 확실하다면 역할로 시작
- 정확한 결정을 내리기 어려운 상황이라면 구체적인 객체로 시작

## 역할과 추상화

협력을 구체적인 객체가 아니라 추상적인 역할의 관점에서 설계하면 협력이 유연하고 재사용 가능해짐

### 따라서, 역할의 가장 큰 장점은 설계의 구성 요소를 추상화 할 수 있다는 것

<br>

*추상화를 이용한 설계가 가지는 장점*

1. **추상화 계층을 이용해 중요 정책을 상위 수준에서 단순화 할 수 있음**
2. **설계가 좀 더 유연해짐**

<br>

역할은 공통의 책임을 바탕으로 객체의 종류를 숨김

→ 이런 관점에서는 **역할을 객체의 추상화**로 볼 수 있음

### 따라서, 추상화가 가지는 장점이 협력의 관점에서 역할에도 동일하게 적용될 수 있음

협력 안에서 역할이라는 추상화를 이용하면, 기존 코드를 수정하지 않고 새로운 행동을 추가할 수 있음

→ 유연한 설계

구체적인 객체들이 가지는 복잡성을 제거하고 단순화 해서 표현할 수 있음

→ 단순화

## 배우, 배역

*배우, 배역 간의 특성*

- 배역은 배우가 특정 극에서 연기하는 역할
- 배역은 극이 상영되는 동안에만 존재하는 일시적인 개념
- 극이 끝나면 배우는 배역의 역할을 벗고 원래의 배우로 돌아옴
- 서로 다른 배우들이 동일한 배역을 연기할 수 있음
- 하나의 배우가 다양한 연극 안에서 서로 다른 배역을 연기할 수 있음

<br>

협력은 연극

코드는 극본

배우는 협력 안에서 역할을 수행하는 객체

<br>

- 역할은 객체가 협력에 참여하는 잠시 동안만 존재하는 일시적인 개념
- 역할은 모양, 구조에 의해 정의될 수 없음
- 시스템의 문맥 안에서 무엇을 하는 지에 의해서만 정의 됨
- 동일한 역할을 수행하는 하나 이상의 객체들이 존재할 수 있음

<br>

배우→ 여러 연극에 참여하며 여러 배역을 연기 가능

= 객체는 다양한 역할을 가질 수 있음

- 객체는 특정한 협력 안에서는 일시적으로 오직 하나의 역할만이 보여짐
    - 하나의 연극에서 하나의 배역만을 연기함

### 동일한 객체라 하더라도 객체가 참여하는 협력에 따라 필요한 특정한 역할을 제외한 부분은 감춰질 것.

<br>

결론

1. 객체는 다양한 역할을 가질 수 있다.
2. 객체는 협력에 참여할 때 협력 안에서 하나의 역할로 보여진다.
3. 객체가 다른 협력에 참여할 때는 다른 역할로 보여진다
4. 협력의 관점에서 동일한 역할을 수행하는 객체들은 대체 가능하다,
5. 역할은 특정한 객체의 종류를 캡슐화하기 때문에 동일한 역할을 수행한다
6. 계약을 준수하는 대체 가능한 객체들은 다형적이다.
