# 책임
> 작성자:심세원

## 목차
- [책임](#책임)
- [책임 할당](#책임-할당)
- [책임 주도 설계](#책임-주도-설계)
- [메시지](#메시지)
- [행동, 상태](#행동,-상태)


**협력**: 객체를 설계하기 위해 필요한 문맥

**→**다음으로는 할 일은 **협력에 필요한 행동을 찾는 것**

**→협력에 참여하기 위해 객체가 수행하는 행동**을 **“책임”** 이라고 함

### 객체 지향에서 가장 중요한 것이 책임



## 책임

> 객체에 의해 정의되는 응집도 있는 행위의 집합
> 

협력 안에서 객체에게 할당한 책임이 외부 인터페이스와 내부 속성을 결정한다.

→ 협력이 중요한 이유는 객체에게 할당할 책임을 결정할 수 있는 문맥을 제공하기 때문임

<br>

***하는 것***

- 객체를 생성, 계산 수행 등 스스로 하는 것
- 다른 객체의 행동을 시작 시킴
- 다른 객체의 활동을 제어하고 조절

<br>

***아는 것***

- 사적인 정보에 관해 아는 것
- 관련된 객체에 관해 아는 것
- 자신이 유도하거나 계산할 수 있는 것에 관해 아는 것

### 책임은 ‘아는 것’과, ‘하는 것’이 밀접하게 연관되어 있다

*객체는*

- 자신이 맡은 책임을 수행하는 데 필요한 정보를 알고 있을 책임이 있음
- 자신이 할 수 없는 작업을 도와줄 객체를 알고 있을 책임이 있음

즉 “어떤 책임을 수행하기 위해 필요한 정보도 알아야 할 책임이 있다”


## 책임 할당

자율적인 객체를 만드는 가장 기본적인 방법은 책임을 수행하는 데 필요한 정보를 ***가장 잘 알고 있는 전문가에게 그 책임을 할당*** 하는 것

→ **책임 할당을 위한 정보 전문가 패턴**

### 요청에 응답하기 위해 필요한 행동이 책임으로 이어짐

따라서 **협력이라는 문맥을 정의 해야 하는 것**

<br>

ex) 영화 예매 시스템

1. 제공 해야 할 기능: 영화를 예매 하는 것

→ 이 기능을 시스템이 제공할 책임으로 할당할 것임

→ 객체가 책임을 수행하는 법, 메시지 전송

→ 책임 할당 한다는 것 = 메시지 이름 결정하는 것

<br>

1. `“예매하라”`라는 이름의 메시지로 협력을 시작 

→ 메시지를 선택함

<br>

1. 메시지를 처리할 객체 선택

→ 정보 전문가에게 책임을 할당해

→ 영화 예매를 위한 정보 : `상영시간`, `기본 요금`

→ 이 정보를 가지고 있는 객체는 뭘까?

→ `Screening` (예매 정보 전문가)

<br>

1. 예매 가격을 계산해야 함

→ `Screening`은 `예매 가격`에 대한 전문가는 아님

→ 외부 객체에게 가격 계산을 맡겨야 함

<br>

1. 새로운 메시지가 필요함

→ `“예매 가격을 계산하라”`라는 이름의 메시지가 필요함

→ 3번 과정 반복

<br><br>

### 이렇게 결정된 메시지가 객체의 퍼블릭 인터페이스를 구성하고 있음

모든 책임 할당 과정이 이렇게 단순한 것은 아님

**응집도, 결합도 측면에서 다른 객체에게 책임을 할당하는 것이 더 적절한 경우도 있음**



## 책임 주도 설계

협력 설계를 위해서는 책임에 초점을 맞춰야 한다.

**책임을 찾고 책임을 할당하는 방식으로 협력을 설계하는 것이 “*책임 주도 설계”***

<br>

***책임 주도 설계 방법의 과정***

- 시스템이 사용자에게 제공해야 할 기능인 책임을 파악
- 시스템 책임을 더 작은 책임으로 분할
- 분할된 책임을 수행할 수 있는 적절한 객체 or 역할을 찾아 책임을 할당
- 객체가 책임 수행 도중 다른 객체의 도움이 필요할 시 이를 책임질 적절한 객체, 역할을 찾음
- 해당 객체 또는 역할에게 책임을 할당함으로써 두 객체가 협력함



## 메시지

### 메시지가 객체를 결정한다.

객체에게 책임을 할당 하는데 필요한 메시지를 식별하고 처리할 객체를 나중에 선택했다는 것이 중요

**→ 메시지가 객체를 선택하게 함**

<br>

***메시지가 객체를 선택하게 해야하는 이유***

- 객체가 최소한의 인터페이스를 가질 수 있게 됨
- 객체는 중분히 추상적인 인터페이스를 가질 수 있게 됨



## 행동, 상태

### 행동이 상태를 결정하고 그 행동이 객체의 책임이 된다

객체 → 협력에 참여하기 위해 존재

**객체는 협력에 필요한 행동을 제공해야 함**

- 객체가 협력에 적합한지를 결정하는 것은 객체의 행동 (not 상태)
- “얼마나 적절한 객체를 창조했느냐”는 “얼마나 적절한 책임을 할당 했느냐”에 달림
- “책임이 얼마나 적절한가”는 “협력이 얼마나 적절한가”에 달림

<br>

**캡슐화를 위반하지 많도록 구현에 대한 결정은 뒤로 미루면서 객체의 행위를 고려하기 위해서는 항상 협력이라는 문맥 안에서 객체를 생각해야 함**

개별 객체의 상태와 행동이 아닌, 시스템의 기능을 위한 협력에 초점을 맞춰야 응집도가 높고 결합도가 낮은 객체를 창조할 수 있음
